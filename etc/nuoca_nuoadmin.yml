---
NUOCA_LOGFILE: $NUOCA_LOGFILE
INPUT_PLUGINS:
- ZBX:
    description : Collect machine stats from Zabbix
    server: localhost
    autoDiscoverMonitors: true
    keys:
    - system.uptime
    - system.cpu.intr
    - vm.memory.size[available]
    - system.cpu.switches
    - system.cpu.util[,interrupt]
    - system.boottime
    - system.cpu.util[,idle]
    - system.cpu.util[,system]
    - system.cpu.util[,iowait]
    - system.cpu.util[,nice]
    - system.cpu.util[,user]
    - system.cpu.util[,softirq]
    - system.localtime
    - system.cpu.util[,steal]
    - system.users.num
    - proc.num[]
    - vm.memory.size[total]
    - system.uname
    - system.hostname
    - kernel.maxproc
    - kernel.maxfiles
- NuoAdminAgentLog:
    description : Collection from NuoDB Admin Agent logfile
    nuocaCollectionName: NuoAdminAgentLog
    logstashBin: $LOGSTASH_HOME/bin/logstash
    logstashConfig: $NUOADMINAGENTLOGCONFIG
    logstashInputFilePath: [ $NUODB_LOGDIR/agent.log, $NUODB_LOGDIR/nuoadmin.log ]
    logstashOptions: --pipeline.workers 1 --pipeline.batch.size 30
    dropThrottledEvents: True
- NuoAdminMon:
    description : Collection from NuoDB Admin Layer
    nuocaCollectionName: NuoAdminMon2
    api_server: ${NUODB_API_SERVER}
    client_key: ${NUODB_INSIGHTS_KEY}
    server_cert: None
- NuoAdminNuoMon:
    description : Collection from NuoDB engines
    nuocaCollectionName: NuoMon
    api_server: ${NUODB_API_SERVER}
    client_key: ${NUODB_INSIGHTS_KEY}
    host_uuid_shortname: True

OUTPUT_PLUGINS:
- RestClient:
    url: $INSIGHTS_INGEST_URL
    auth_token: $INSIGHTS_TOKEN
